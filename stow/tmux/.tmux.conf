# ADD PLUGINS
set -g @plugin 'tmux-plugins/tpm'

# THEME_START
set -g @plugin 'renanbrayner/tmux'

set -g @dracula-plugins "cpu-usage ram-usage weather"
set -g @dracula-show-left-icon "session"
set -g @dracula-left-icon-padding 1
set -g @dracula-show-fahrenheit false
set -g @dracula-weather-colors "dark_purple white"

set -g @dracula-white '#f8f8f2'
set -g @dracula-gray '#44475a'
set -g @dracula-dark_gray '#282a36'
set -g @dracula-light_purple '#bd93f9'
set -g @dracula-dark_purple '#6272a4'
set -g @dracula-cyan '#8be9fd'
set -g @dracula-green '#50fa7b'
set -g @dracula-orange '#ffb86c'
set -g @dracula-red '#ff5555'
set -g @dracula-pink '#ff79c6'
set -g @dracula-yellow '#f1fa8c'
# THEME_END

# server options
set-option -gs default-terminal "tmux-256color"
# FYI: check for true color support using tmux info | ag Tc and verify using true-color-support
# Enable True Color and RGB support
set-option -gas terminal-overrides "*:Tc"
set-option -gas terminal-overrides "*:RGB"
# Enable double/curly underline
set-option -gas terminal-overrides '*:Smulx=\E[4::%p1%dm'
set-option -gas terminal-overrides '*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'

set-option -g detach-on-destroy off
set-option -g prefix C-a

set -g mouse on

set -g base-index 1
setw -g pane-base-index 1

# sensible defaults
set -s escape-time 0 # address vim mode switching delay (http://superuser.com/a/252717/65504)
set-option -g repeat-time 0 # the shitty window change retarded timer
set -g history-limit 50000 # increase scrollback buffer size
set -g display-time 4000 # tmux messages are displayed for 4 seconds
set -g status-interval 5 # refresh 'status-left' and 'status-right' more often
set -g focus-events on # focus events enabled for terminals that support them
setw -g aggressive-resize on # super useful when using "grouped sessions" and multi-monitor setup

# bindings
unbind C-b # remove default prefix
bind-key C-a send-prefix # change prefix to ctrl + a

bind r source-file ~/.tmux.conf # reload tmux config

bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

unbind s
bind s command-prompt -p "Go To Session:" "new-session -A -s '%%'"
bind S choose-tree -Zs
bind K confirm kill-session

bind t split-window -h -c "#{pane_current_path}"
bind T split-window -v -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"
bind C-n next-window
bind C-p previous-window
# unbind n
# unbind p
# bind F5 run-shell '~/.tmux/plugins/tmux-resurrect/scripts/save.sh'
# bind F6 run-shell '~/.tmux/plugins/tmux-resurrect/scripts/restore.sh'

set-environment -g PATH "/usr/local/bin:/bin:/usr/bin"

run '~/.tmux/plugins/tpm/tpm'
